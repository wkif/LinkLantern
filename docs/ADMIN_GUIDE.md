# 管理后台功能说明

## 📋 功能概述

LinkLantern 管理后台是一个功能完善的用户管理系统，允许已登录用户管理个人信息和链接内容。

## 🔑 访问方式

### 入口地址
- **URL**: `/admin`
- **访问限制**: 仅限已登录用户
- **入口位置**:
  1. 首页右上角用户菜单 → "管理后台"
  2. 直接访问 `https://your-domain.com/admin`

### 认证保护
所有管理后台页面都受到路由中间件保护：
- 未登录用户会自动跳转到登录页
- 登录后会返回原本想访问的页面

## 📱 页面结构

### 布局特点
- **顶部导航栏**: Logo、返回首页按钮、用户头像菜单
- **侧边栏**: 导航菜单和快捷操作
- **主内容区**: 各功能页面内容

### 响应式设计
- 桌面端：完整侧边栏 + 主内容区
- 平板/移动端：自适应布局，侧边栏可收起

## 🎯 功能模块

### 1. 概览页面 (`/admin`)

#### 统计数据
显示四个核心指标卡片：
- **总链接数**: 用户创建的所有链接数量
- **公开链接**: 设置为公开的链接数量
- **总点击量**: 所有链接的累计点击数
- **分类数**: 链接的分类标签数量

#### 最近添加
- 显示最近创建的 5 个链接
- 显示相对时间（如"3小时前"）
- 标识公开/私密状态

#### 热门链接
- 按点击量排序的前 5 个链接
- 显示排名和点击数
- 显示链接分类

#### 快速操作
- 添加链接
- 编辑资料
- 管理链接
- 系统设置

### 2. 个人信息管理 (`/admin/profile`)

#### 基本信息
- **用户名**: 可编辑，用于显示
- **邮箱地址**: 只读，不可修改
- **头像URL**: 可编辑，支持外部图片链接

#### 修改密码
- **当前密码**: 验证身份
- **新密码**: 至少 8 个字符
- **确认新密码**: 必须与新密码一致

#### 账户信息
- 账户 ID
- 注册时间
- 最后更新时间

#### 安全提示
- 定期更换密码建议
- 使用强密码建议
- 保护账户信息提示

### 3. 链接管理 (`/admin/links`)

#### 搜索和筛选
- **搜索**: 支持标题、URL、描述全文搜索
- **分类筛选**: 按分类标签筛选
- **可见性筛选**: 全部/公开/私密
- **排序方式**: 创建时间/点击量/标题

#### 链接列表
每个链接卡片显示：
- 链接图标（支持自定义或默认）
- 标题和 URL
- 描述信息
- 分类标签
- 点击统计
- 公开/私密状态
- 创建日期
- 编辑/删除按钮

#### 添加链接
必填字段：
- **URL**: 链接地址
- **标题**: 链接名称

可选字段：
- **描述**: 链接描述
- **图标URL**: 自定义图标
- **分类**: 分类标签
- **公开设置**: 是否对其他用户可见

#### 编辑链接
- 支持修改所有字段
- 实时保存
- 错误提示

#### 删除链接
- 二次确认
- 显示要删除的链接信息
- 不可恢复提示

### 4. 系统设置 (`/admin/settings`)

#### 主题设置
- **深色模式**: 一键切换深色/浅色主题

#### 通知设置
- **邮件通知**: 接收重要更新
- **浏览器通知**: 推送通知
- **新功能通知**: 了解新特性

#### 隐私设置
- **公开个人资料**: 是否允许他人查看
- **显示活动状态**: 在线状态可见性
- **允许搜索引擎索引**: SEO 设置

#### 数据管理
- **导出数据**: 导出所有个人数据
- **清除缓存**: 清除本地缓存和搜索历史

#### 关于信息
- 应用名称、版本号
- 技术栈信息
- 应用简介

## 🔧 API 接口

### 个人信息管理

#### 获取当前用户信息
```
GET /api/auth/me
Headers: Authorization: Bearer {token}
```

#### 更新个人信息
```
PUT /api/auth/me
Headers: Authorization: Bearer {token}
Body: {
  name?: string,
  avatar?: string
}
```

#### 修改密码
```
PUT /api/auth/password
Headers: Authorization: Bearer {token}
Body: {
  currentPassword: string,
  newPassword: string
}
```

### 链接管理

#### 获取我的链接
```
GET /api/links
Headers: Authorization: Bearer {token}
Query: {
  category?: string,
  search?: string
}
```

#### 创建链接
```
POST /api/links
Headers: Authorization: Bearer {token}
Body: {
  url: string,
  title: string,
  description?: string,
  icon?: string,
  category?: string,
  isPublic?: boolean
}
```

#### 更新链接
```
PUT /api/links/:id
Headers: Authorization: Bearer {token}
Body: {
  url?: string,
  title?: string,
  description?: string,
  icon?: string,
  category?: string,
  isPublic?: boolean
}
```

#### 删除链接
```
DELETE /api/links/:id
Headers: Authorization: Bearer {token}
```

## 🎨 UI/UX 特性

### 视觉设计
- **现代化界面**: 采用 Nuxt UI 组件库
- **渐变色图标**: 美观的图标背景
- **流畅动画**: hover 效果和过渡动画
- **深色模式**: 完整的深色主题支持

### 交互体验
- **实时验证**: 表单输入即时反馈
- **加载状态**: 清晰的加载指示器
- **空状态**: 友好的空状态提示
- **错误处理**: 详细的错误信息
- **成功反馈**: Toast 消息提示

### 响应式布局
- **移动端优化**: 完美适配小屏幕
- **平板适配**: 灵活的网格布局
- **桌面体验**: 充分利用大屏空间

## 🔒 安全特性

### 认证保护
- JWT Token 认证
- 路由级别保护
- 自动跳转到登录页
- Token 过期处理

### 数据安全
- 密码加密存储（bcrypt）
- 修改密码需验证当前密码
- 敏感操作二次确认
- 邮箱地址不可修改

### 权限控制
- 用户只能管理自己的数据
- API 层面权限验证
- 防止越权操作

## 📊 使用统计

### 数据追踪
- 链接点击量统计
- 链接创建时间记录
- 最后更新时间追踪
- 用户活动时间记录

### 数据展示
- 可视化统计卡片
- 排行榜展示
- 时间线展示

## 🚀 快速上手

### 首次使用
1. 注册账号并登录
2. 点击右上角用户头像
3. 选择"管理后台"
4. 查看概览页面的快速操作

### 添加第一个链接
1. 进入"链接管理"
2. 点击"添加链接"按钮
3. 填写 URL 和标题（必填）
4. 选择是否公开分享
5. 保存

### 管理链接
1. 使用搜索框快速查找
2. 使用筛选条件精确定位
3. 点击编辑按钮修改
4. 点击删除按钮移除

### 自定义设置
1. 进入"系统设置"
2. 选择您喜欢的主题
3. 配置通知偏好
4. 设置隐私选项

## 💡 使用技巧

### 链接组织
- **分类管理**: 为链接添加分类标签
- **描述优化**: 添加详细描述便于搜索
- **图标设置**: 使用图标提升识别度

### 搜索技巧
- 支持标题、URL、描述全文搜索
- 可以搜索链接中的关键词
- 结合分类筛选提高效率

### 公开分享
- 优质链接设为公开
- 出现在首页"网页推荐"
- 帮助他人发现好内容

## 🔮 未来计划

### 即将推出
- [ ] 批量操作（批量删除、批量修改）
- [ ] 链接标签系统（多标签支持）
- [ ] 拖拽排序
- [ ] 链接分组功能
- [ ] 数据导入/导出
- [ ] 链接收藏夹
- [ ] 快捷键支持

### 长期规划
- [ ] 协作功能
- [ ] 链接评论
- [ ] 社交分享
- [ ] 数据分析图表
- [ ] API 接口开放
- [ ] 浏览器扩展

## 📝 常见问题

### Q: 如何进入管理后台？
A: 登录后，点击右上角用户头像，选择"管理后台"。

### Q: 忘记密码怎么办？
A: 在登录页面点击"忘记密码"（功能开发中），或联系管理员重置。

### Q: 链接设为公开后还能改回私密吗？
A: 可以，在链接编辑页面取消"设为公开"选项即可。

### Q: 可以修改邮箱地址吗？
A: 目前邮箱地址不支持修改，作为账户唯一标识。

### Q: 删除的链接可以恢复吗？
A: 目前删除是永久性的，无法恢复。建议谨慎操作。

### Q: 如何导出我的数据？
A: 在"系统设置"页面点击"导出数据"按钮（功能开发中）。

## 🎯 最佳实践

### 数据组织
1. 为每个链接添加合适的分类
2. 填写详细的描述信息
3. 定期清理不再使用的链接
4. 使用搜索功能快速定位

### 安全建议
1. 定期更换密码（建议3个月一次）
2. 使用强密码（包含大小写、数字、特殊字符）
3. 不要与他人分享账户信息
4. 注意公开链接的内容安全

### 性能优化
1. 避免添加过多未使用的链接
2. 定期清除浏览器缓存
3. 使用分类筛选而不是全部加载
4. 关闭不需要的通知

## 📚 相关文档

- [认证功能文档](./AUTH_GUIDE.md)
- [链接管理文档](./LINK_GUIDE.md)
- [网页推荐功能](./PUBLIC_LINKS_FEATURE.md)
- [搜索功能说明](./SEARCH_SUGGESTIONS.md)
- [项目功能总览](./FEATURES_SUMMARY.md)

## 🛠 技术实现

### 前端
- **框架**: Nuxt 4 + Vue 3
- **UI库**: Nuxt UI (基于 Tailwind CSS)
- **状态管理**: Composables
- **路由保护**: Middleware

### 后端
- **API**: Nuxt Server API (Nitro)
- **数据库**: Prisma + MySQL
- **认证**: JWT
- **密码加密**: bcryptjs

### 文件结构
```
app/
├── middleware/
│   └── auth.ts              # 认证中间件
├── layouts/
│   └── admin.vue            # 管理后台布局
├── pages/
│   └── admin/
│       ├── index.vue        # 概览页面
│       ├── profile.vue      # 个人信息管理
│       ├── links.vue        # 链接管理
│       └── settings.vue     # 系统设置
└── composables/
    ├── useAuth.ts           # 认证状态管理
    └── useLinks.ts          # 链接管理

server/
└── api/
    ├── auth/
    │   ├── me.get.ts        # 获取用户信息
    │   ├── me.put.ts        # 更新用户信息
    │   └── password.put.ts  # 修改密码
    └── links/
        ├── index.get.ts     # 获取链接列表
        ├── index.post.ts    # 创建链接
        ├── [id].get.ts      # 获取单个链接
        ├── [id].put.ts      # 更新链接
        └── [id].delete.ts   # 删除链接
```

## 📧 支持与反馈

如有问题或建议，欢迎通过以下方式联系：
- GitHub Issues
- 邮件反馈
- 在线客服（功能开发中）

---

**最后更新**: 2026-01-14  
**版本**: 1.0.0

